


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         
    3 00000000         
    4 00000000         ; The GPIODATA register is the data register
    5 00000000         ; GPIO Port F (APB) base: 0x4002.5000 (p416 datasheet de
                        ;lm3s9B92.pdf
    6 00000000         
    7 00000000 40024000 
                       GPIO_PORTE_BASE
                               EQU              0x40024000
    8 00000000         
    9 00000000         
   10 00000000         ; configure the corresponding pin to be an output
   11 00000000         ; all GPIO pins are inputs by default
   12 00000000         ; GPIO Direction (p417 datasheet de lm3s9B92.pdf
   13 00000000         
   14 00000000 00000400 
                       GPIO_O_DIR
                               EQU              0x400
   15 00000000         
   16 00000000         ; The GPIODR2R register is the 2-mA drive control regist
                       er
   17 00000000         ; By default, all GPIO pins have 2-mA drive.
   18 00000000         ; GPIO 2-mA Drive Select (p428 datasheet de lm3s9B92.pdf
                       )
   19 00000000         
   20 00000000 00000500 
                       GPIO_O_DR2R
                               EQU              0x500
   21 00000000         
   22 00000000         ; Digital enable register
   23 00000000         ; To use the pin as a digital input or output, the ;corr
                       esponding GPIODEN bit must be set.
   24 00000000         ; GPIO Digital Enable (p437 datasheet de lm3s9B92.pdf)
   25 00000000         
   26 00000000 0000051C 
                       GPIO_O_DEN
                               EQU              0x51C
   27 00000000         
   28 00000000         ; Registre pour activer les switchs  en logiciel (par d√
                       ©faut ;ils sont reli√©s √† la masse donc inactifs)
   29 00000000         
   30 00000000 00000510 
                       GPIO_PUR
                               EQU              0x510
   31 00000000         
   32 00000000         ; PORT E : selection des BUMPER GAUCHE et DROIT,LIGNE 01
                        du Port E
   33 00000000         
   34 00000000 00000003 
                       PORT01  EQU              0x03
   35 00000000         
   36 00000000         ; PORT E : selection du BUMPER DROIT, LIGNE 0 du Port E
   37 00000000         
   38 00000000 00000001 
                       PORT0   EQU              0x01
   39 00000000         
   40 00000000         ; PORT E : selection du BUMPER DROIT, LIGNE 1 du Port E
   41 00000000         



ARM Macro Assembler    Page 2 


   42 00000000 00000002 
                       PORT1   EQU              0x02
   43 00000000         
   44 00000000         
   45 00000000                 AREA             |.text|, CODE, READONLY
   46 00000000                 ENTRY
   47 00000000         
   48 00000000                 EXPORT           BUMPER_INIT
   49 00000000                 EXPORT           BUMPER_CHECK_DROIT
   50 00000000                 EXPORT           BUMPER_CHECK_GAUCHE
   51 00000000         
   52 00000000         
   53 00000000                 IMPORT           CALL_MOTEUR_RECULER_SHORT
   54 00000000                 IMPORT           MOTEUR_RECULER_SHORT
   55 00000000                 IMPORT           LOOP_SHORT
   56 00000000                 IMPORT           rotleft
   57 00000000                 IMPORT           rotright
   58 00000000                 IMPORT           ENABLE_STACK_SYSCTL_RCGC2
   59 00000000         
   60 00000000         BUMPER_INIT
   61 00000000         
   62 00000000 B500            push             {lr}
   63 00000002 F04F 0010       mov              r0, #0x00000010 ;; Enable clock
                                                             sur GPIO E
   64 00000006 B401            push             {r0}
   65 00000008 F7FF FFFE       BL               ENABLE_STACK_SYSCTL_RCGC2
   66 0000000C         
   67 0000000C         
   68 0000000C         ; Enable Digital Function - Port E
   69 0000000C 4F0F            ldr              r7, = GPIO_PORTE_BASE+GPIO_O_DE
N
   70 0000000E F04F 0003       ldr              r0, = PORT01
   71 00000012 6038            str              r0, [r7]
   72 00000014         
   73 00000014         ; Activer le registre des bumpers, Port E
   74 00000014 4F0E            ldr              r7, = GPIO_PORTE_BASE+GPIO_PUR
   75 00000016 F04F 0003       ldr              r0, = PORT01
   76 0000001A 6038            str              r0, [r7]
   77 0000001C F85D EB04       pop              {lr}
   78 00000020 4770            BX               lr
   79 00000022         
   80 00000022         BUMPER_CHECK_DROIT
   81 00000022 4F0C            ldr              r7,= GPIO_PORTE_BASE + (PORT0<<
2)
   82 00000024 683D            ldr              r5, [r7]
   83 00000026 2D01            cmp              r5,#0x01
   84 00000028 D00E            BEQ              RETURN
   85 0000002A F7FF FFFE       bl               CALL_MOTEUR_RECULER_SHORT
   86 0000002E F7FF BFFE       B                rotleft
   87 00000032         
   88 00000032         BUMPER_CHECK_GAUCHE
   89 00000032 F8DF 9024       ldr              r9, = GPIO_PORTE_BASE + (PORT1<
<2)
   90 00000036 F8D9 A000       ldr              r10, [r9]
   91 0000003A F1BA 0F02       cmp              r10, #0x02
   92 0000003E D003            BEQ              RETURN
   93 00000040 F7FF FFFE       bl               CALL_MOTEUR_RECULER_SHORT
   94 00000044 F7FF BFFE       B                rotright
   95 00000048         



ARM Macro Assembler    Page 3 


   96 00000048         
   97 00000048         RETURN
   98 00000048 4770            BX               lr
   99 0000004A         
  100 0000004A                 END
              00 00 4002451C 
              40024510 
              40024004 
              40024008 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\rk_config_bumper.d -o.\objects\rk_config_bumper.o -I.\RT
E\_Target_1 -IC:\Users\cypbo\AppData\Local\Arm\Packs\ARM\CMSIS\5.5.1\CMSIS\Core
\Include -IC:\Users\cypbo\AppData\Local\Arm\Packs\ARM\CMSIS\5.5.1\Device\ARM\AR
MCM3\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 52
8" --predefine="_RTE_ SETA 1" --predefine="ARMCM3 SETA 1" --list=.\listings\rk_
config_bumper.lst RK_Config_Bumper.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 45 in file RK_Config_Bumper.s
   Uses
      None
Comment: .text unused
BUMPER_CHECK_DROIT 00000022

Symbol: BUMPER_CHECK_DROIT
   Definitions
      At line 80 in file RK_Config_Bumper.s
   Uses
      At line 49 in file RK_Config_Bumper.s
Comment: BUMPER_CHECK_DROIT used once
BUMPER_CHECK_GAUCHE 00000032

Symbol: BUMPER_CHECK_GAUCHE
   Definitions
      At line 88 in file RK_Config_Bumper.s
   Uses
      At line 50 in file RK_Config_Bumper.s
Comment: BUMPER_CHECK_GAUCHE used once
BUMPER_INIT 00000000

Symbol: BUMPER_INIT
   Definitions
      At line 60 in file RK_Config_Bumper.s
   Uses
      At line 48 in file RK_Config_Bumper.s
Comment: BUMPER_INIT used once
RETURN 00000048

Symbol: RETURN
   Definitions
      At line 97 in file RK_Config_Bumper.s
   Uses
      At line 84 in file RK_Config_Bumper.s
      At line 92 in file RK_Config_Bumper.s

5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_O_DEN 0000051C

Symbol: GPIO_O_DEN
   Definitions
      At line 26 in file RK_Config_Bumper.s
   Uses
      At line 69 in file RK_Config_Bumper.s
Comment: GPIO_O_DEN used once
GPIO_O_DIR 00000400

Symbol: GPIO_O_DIR
   Definitions
      At line 14 in file RK_Config_Bumper.s
   Uses
      None
Comment: GPIO_O_DIR unused
GPIO_O_DR2R 00000500

Symbol: GPIO_O_DR2R
   Definitions
      At line 20 in file RK_Config_Bumper.s
   Uses
      None
Comment: GPIO_O_DR2R unused
GPIO_PORTE_BASE 40024000

Symbol: GPIO_PORTE_BASE
   Definitions
      At line 7 in file RK_Config_Bumper.s
   Uses
      At line 69 in file RK_Config_Bumper.s
      At line 74 in file RK_Config_Bumper.s
      At line 81 in file RK_Config_Bumper.s
      At line 89 in file RK_Config_Bumper.s

GPIO_PUR 00000510

Symbol: GPIO_PUR
   Definitions
      At line 30 in file RK_Config_Bumper.s
   Uses
      At line 74 in file RK_Config_Bumper.s
Comment: GPIO_PUR used once
PORT0 00000001

Symbol: PORT0
   Definitions
      At line 38 in file RK_Config_Bumper.s
   Uses
      At line 81 in file RK_Config_Bumper.s
Comment: PORT0 used once
PORT01 00000003

Symbol: PORT01
   Definitions
      At line 34 in file RK_Config_Bumper.s
   Uses
      At line 70 in file RK_Config_Bumper.s
      At line 75 in file RK_Config_Bumper.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols


PORT1 00000002

Symbol: PORT1
   Definitions
      At line 42 in file RK_Config_Bumper.s
   Uses
      At line 89 in file RK_Config_Bumper.s
Comment: PORT1 used once
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

CALL_MOTEUR_RECULER_SHORT 00000000

Symbol: CALL_MOTEUR_RECULER_SHORT
   Definitions
      At line 53 in file RK_Config_Bumper.s
   Uses
      At line 85 in file RK_Config_Bumper.s
      At line 93 in file RK_Config_Bumper.s

ENABLE_STACK_SYSCTL_RCGC2 00000000

Symbol: ENABLE_STACK_SYSCTL_RCGC2
   Definitions
      At line 58 in file RK_Config_Bumper.s
   Uses
      At line 65 in file RK_Config_Bumper.s
Comment: ENABLE_STACK_SYSCTL_RCGC2 used once
LOOP_SHORT 00000000

Symbol: LOOP_SHORT
   Definitions
      At line 55 in file RK_Config_Bumper.s
   Uses
      None
Comment: LOOP_SHORT unused
MOTEUR_RECULER_SHORT 00000000

Symbol: MOTEUR_RECULER_SHORT
   Definitions
      At line 54 in file RK_Config_Bumper.s
   Uses
      None
Comment: MOTEUR_RECULER_SHORT unused
rotleft 00000000

Symbol: rotleft
   Definitions
      At line 56 in file RK_Config_Bumper.s
   Uses
      At line 86 in file RK_Config_Bumper.s
Comment: rotleft used once
rotright 00000000

Symbol: rotright
   Definitions
      At line 57 in file RK_Config_Bumper.s
   Uses
      At line 94 in file RK_Config_Bumper.s
Comment: rotright used once
6 symbols
355 symbols in table
